<%= form_with(model: [:admin, user], class: "space-y-4") do |f| %>
  <% if user.errors.any? %>
    <div class="rounded-lg bg-red-50 border border-red-200 px-4 py-3">
      <ul class="list-disc list-inside text-sm text-red-800">
        <% user.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div>
    <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
    <%= f.email_field :email, class: "w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" %>
  </div>

  <div>
    <label class="block text-sm font-medium text-gray-700 mb-1">Password <%= "(leave blank to keep current)" if user.persisted? %></label>
    <%= f.password_field :password, class: "w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" %>
  </div>

  <div>
    <label class="block text-sm font-medium text-gray-700 mb-1">Password Confirmation</label>
    <%= f.password_field :password_confirmation, class: "w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" %>
  </div>

  <div>
    <label class="block text-sm font-medium text-gray-700 mb-1">Plan</label>
    <%= f.select :plan, %w[free worker enterprise], {}, class: "w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" %>
  </div>

  <div>
    <label class="block text-sm font-medium text-gray-700 mb-1">Plan Expires At <span class="font-normal text-gray-400">(leave blank for no expiration)</span></label>
    <%= f.datetime_local_field :plan_expires_at, class: "w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" %>
  </div>

  <div class="flex gap-3">
    <%= f.submit class: "bg-blue-600 text-white rounded-lg px-4 py-2 text-sm font-medium hover:bg-blue-700 cursor-pointer" %>
    <%= link_to "Cancel", admin_users_path, class: "bg-white border border-gray-300 rounded-lg px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50" %>
  </div>
<% end %>
